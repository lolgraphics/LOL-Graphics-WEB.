name: Install Git Hooks

on:
  push:
    branches:
      - develop 
  pull_request:
    branches:
      - develop 

jobs:
  install-hooks:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3
      with:
        ref: develop 

    - name: Debug Hooks Folder (antes da cópia)
      run: ls -la .github/hooks

    - name: Ensure Git Hooks Folder Permissions
      run: chmod -R 755 .git/hooks

    - name: Install Hooks
      run: |
        mkdir -p .git/hooks
        cp -f .github/hooks/commit-msg .git/hooks/
        chmod +x .git/hooks/commit-msg

    - name: Debug Hooks Folder (após a cópia)
      run: ls -la .git/hooks

    - name: Verify Checkout
      run: ls -la .github